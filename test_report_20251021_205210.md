
# E2E Test Report: Itinerary Generation API

**Test Date**: 2025-10-21 20:48:49

**API Endpoint**: `http://localhost:8000/api/itinerary/generate`


## 1. API Request

Sending request with 18 places...

**Status Code**: 200

- **API Response**: ✅ PASS
  - API returned 200 OK

**Response Structure**:

```json
{
  "itinerary": [
    {
      "day": 1,
      "visits": [
        {
          "order": 1,
          "google_place_id": "ChIJ7xwqpNvmAGARsm6fpyLvNaE",
          "display_name": "오사카텐만구 (오사카 천만궁)",
          "place_tag": "LANDMARK",
          "latitude": 34.6960576,
          "longitude": 135.5126556,
          "visit_time": "09:42",
          "duration_minutes": 60
        },
        {
          "order": 2,
          "google_place_id": "ChIJ_TooXM3gAGARQR6hXH3QAQ8",
          "display_name": "오사카 성",
          "place_tag": "LANDMARK",
          "latitude": 34.6872571,
          "longitude": 135.5258546,
          "visit_time": "10:50",
          "duration_minutes": 120
        },
        {
          "order": 3,
          "google_place_id": "ChIJ8zGjMsjgAGARPIlBMy4yLFs",
          "display_name": "도쿠마사 모리노미야점",
          "place_tag": "LANDMARK",
          "latitude": 34.6812858,
          "longitude": 135.5324535,
          "visit_time": "12:57",
          "duration_minutes": 60
       ...
```


**Generated 3 days of itinerary**


## 2. Response Structure Validation

- **Required field 'itinerary'**: ✅ PASS
  - Field exists in response
- **Number of days**: ✅ PASS
  - Expected 3 days, got 3 days
- **Day 1 structure**: ✅ PASS
  - Has day: True, Has visits: True
  - Day 1: 7 visits

- **Day 2 structure**: ✅ PASS
  - Has day: True, Has visits: True
  - Day 2: 3 visits

- **Day 3 structure**: ✅ PASS
  - Has day: True, Has visits: True
  - Day 3: 3 visits


## 3. Place Score Validation

**User Query**: 일본 오사카 여행으로, 유니버설 스튜디오에서의 액티비티를 즐기고 도톤보리 야경과 우메다 스카이빌딩 야경을 감상하며, 오코노미야키, 부타만, 타코야키, 회전초밥, 미니언 푸드 등 현...


**Calculated Scores for 18 places:**


| Rank | Place | Score | Included in Itinerary |

|------|-------|-------|-----------------------|

| 1 | 해유관 | 0.8514 | ✅ |

| 2 | 홀리데이 인 오사카 난바 | 0.8500 | ❌ |

| 3 | 유니버설 스튜디오 재팬 | 0.8500 | ✅ |

| 4 | 대기수산회전초밥 도톤보리점 | 0.8487 | ✅ |

| 5 | Shinsaibashi-Suji Shopping Str | 0.8479 | ✅ |

| 6 | 아지노야 | 0.8479 | ✅ |

| 7 | 551 호라이 본점 | 0.8465 | ✅ |

| 8 | 간사이 국제공항 | 0.8464 | ✅ |

| 9 | 오사카 성 | 0.8463 | ✅ |

| 10 | 신사이바시스지 | 0.8450 | ❌ |

| 11 | Good spoon Namba CITY | 0.8446 | ❌ |

| 12 | 도톤보리 | 0.8437 | ✅ |

| 13 | 오사카텐만구 (오사카 천만궁) | 0.8410 | ✅ |

| 14 | 흑모와규야키니쿠 도톤보리 みつる 신사이바시 본점 | 0.8380 | ✅ |

| 15 | 타코야키 쿠쿠루 본점 | 0.8286 | ✅ |

| 16 | 신사이바시야키니쿠 인연 | 0.8188 | ❌ |

| 17 | 도쿠마사 모리노미야점 | 0.8188 | ✅ |

| 18 | Dotombori Jihei | 0.8005 | ❌ |


**Average Score of Visited Places**: 0.8427

**Average Score of Not Visited Places**: 0.8318


**Top 5 High-Score Places Included**: 4/5

- **Visited places have higher average score**: ✅ PASS
  - Visited avg: 0.8427, Not visited avg: 0.8318

## 4. Travel Time Validation

**Travel Mode**: DRIVE


**Checking travel times between consecutive places...**


✅ **Day 1**: `오사카텐만구 (오사카 천만궁)` → `오사카 성`

   - Schedule gap: 8.0 min | Actual travel: 7.8 min | Diff: 0.2 min

✅ **Day 1**: `오사카 성` → `도쿠마사 모리노미야점`

   - Schedule gap: 7.0 min | Actual travel: 6.7 min | Diff: 0.3 min

✅ **Day 1**: `도쿠마사 모리노미야점` → `도톤보리`

   - Schedule gap: 19.0 min | Actual travel: 13.1 min | Diff: 5.9 min

✅ **Day 1**: `도톤보리` → `타코야키 쿠쿠루 본점`

   - Schedule gap: 6.0 min | Actual travel: 5.9 min | Diff: 0.1 min

✅ **Day 1**: `타코야키 쿠쿠루 본점` → `아지노야`

   - Schedule gap: 1.0 min | Actual travel: 0.6 min | Diff: 0.4 min

✅ **Day 1**: `아지노야` → `551 호라이 본점`

   - Schedule gap: 7.0 min | Actual travel: 7.4 min | Diff: 0.4 min

✅ **Day 2**: `유니버설 스튜디오 재팬` → `Shinsaibashi-Suji Shopping Street`

   - Schedule gap: 24.0 min | Actual travel: 24.5 min | Diff: 0.5 min

❌ **Day 2**: `Shinsaibashi-Suji Shopping Street` → `흑모와규야키니쿠 도톤보리 みつる 신사이바시 본점`

   - Schedule gap: 44.0 min | Actual travel: 6.6 min | Diff: 37.4 min

   - ⚠️ Difference exceeds tolerance (15 min)

✅ **Day 3**: `대기수산회전초밥 도톤보리점` → `해유관`

   - Schedule gap: 16.0 min | Actual travel: 16.7 min | Diff: 0.7 min

✅ **Day 3**: `해유관` → `간사이 국제공항`

   - Schedule gap: 38.0 min | Actual travel: 38.2 min | Diff: 0.2 min


**Travel Time Accuracy**: 90.0% (9/10 checks passed)

- **Overall Travel Time Accuracy**: ✅ PASS
  - 90.0% of travel times are within 15 min tolerance

## 5. Itinerary Logic Validation

- **Day sequence**: ✅ PASS
  - Days are properly ordered: [1, 2, 3]
- **Must-visit places**: ✅ PASS
  - All must-visit places included in itinerary

**Total visits across all days**: 13


**Daily Visit Summary**:

- Day 1: 오사카텐만구 (오사카 천만궁), 오사카 성, 도쿠마사 모리노미야점, 도톤보리, 타코야키 쿠쿠루 본점, 아지노야, 551 호라이 본점

- Day 2: 유니버설 스튜디오 재팬, Shinsaibashi-Suji Shopping Street, 흑모와규야키니쿠 도톤보리 みつる 신사이바시 본점

- Day 3: 대기수산회전초밥 도톤보리점, 해유관, 간사이 국제공항


## 6. Test Summary

**Total Tests**: 10

**Passed**: 10 ✅

**Failed**: 0 ❌

**Warnings**: 0 ⚠️

**Pass Rate**: 100.0%


## ✅ Overall Result: **PASSED**


---
*Generated at 2025-10-21 20:52:10*
